<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/Jetsuitewing.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="theme-color" content="#0F172A" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/icon-192x192.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png" />

    <title>Jet Suite - AI Tools for Local Business</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">

    <!-- Rewardful Affiliate Tracking - JavaScript (Browser) Integration -->
    <script>(function(w,r){w._rwq=r;w[r]=w[r]||function(){(w[r].q=w[r].q||[]).push(arguments)}})(window,'rewardful');</script>
    <script async src='https://r.wdfl.co/rw.js' data-rewardful='5d7239'></script>

    <!-- Cache Recovery Script -->
    <script>
      // Handle module loading errors by clearing cache and reloading
      window.addEventListener('error', function(e) {
        if (e.message && (e.message.includes('Failed to fetch') || e.message.includes('Loading failed'))) {
          console.error('[Recovery] Module loading error detected, clearing caches...');

          // Clear all caches
          if ('caches' in window) {
            caches.keys().then(function(names) {
              return Promise.all(names.map(function(name) {
                console.log('[Recovery] Deleting cache:', name);
                return caches.delete(name);
              }));
            }).then(function() {
              console.log('[Recovery] All caches cleared, reloading...');

              // Unregister service workers
              if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                  return Promise.all(registrations.map(function(registration) {
                    console.log('[Recovery] Unregistering service worker');
                    return registration.unregister();
                  }));
                }).then(function() {
                  // Set flag to prevent infinite loops
                  const recoveryAttempts = parseInt(sessionStorage.getItem('cacheRecoveryAttempts') || '0');
                  if (recoveryAttempts < 2) {
                    sessionStorage.setItem('cacheRecoveryAttempts', String(recoveryAttempts + 1));
                    window.location.reload(true);
                  } else {
                    console.error('[Recovery] Multiple recovery attempts failed. Please manually clear your browser cache.');
                    alert('Unable to load the application. Please clear your browser cache and try again.');
                  }
                });
              } else {
                window.location.reload(true);
              }
            }).catch(function(err) {
              console.error('[Recovery] Error clearing caches:', err);
            });
          }
        }
      }, true);

      // Reset recovery attempts on successful load
      window.addEventListener('load', function() {
        sessionStorage.removeItem('cacheRecoveryAttempts');
      });
    </script>
  </head>
  <body class="bg-brand-darker">
    <div id="root">
      <div style="display: flex; justify-content: center; align-items: center; height: 100vh; font-family: Inter, sans-serif; color: #F1F5F9; padding: 1rem; background: linear-gradient(135deg, #0F172A 0%, #1E293B 100%);">
        <div style="text-align: center; max-width: 90vw;">
          <div style="position: relative; display: inline-block; margin-bottom: 24px;">
            <img src="/Jetsuitewing.png" alt="Jet Suite" style="width: clamp(80px, 20vw, 120px); height: auto; animation: pulse-glow 2s ease-in-out infinite;" />
            <div style="position: absolute; inset: -10px; background: radial-gradient(circle, rgba(59, 130, 246, 0.3), transparent 70%); border-radius: 50%; animation: pulse-ring 2s ease-in-out infinite;"></div>
          </div>
          <div style="font-size: clamp(20px, 5vw, 28px); font-weight: 700; margin-bottom: 12px; background: linear-gradient(135deg, #3B82F6, #8B5CF6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Jet Suite</div>
          <div style="display: flex; justify-content: center; align-items: center; gap: 8px; margin-top: 16px;">
            <div style="width: 8px; height: 8px; background: #3B82F6; border-radius: 50%; animation: bounce-dot 1.4s ease-in-out infinite;"></div>
            <div style="width: 8px; height: 8px; background: #3B82F6; border-radius: 50%; animation: bounce-dot 1.4s ease-in-out 0.2s infinite;"></div>
            <div style="width: 8px; height: 8px; background: #3B82F6; border-radius: 50%; animation: bounce-dot 1.4s ease-in-out 0.4s infinite;"></div>
          </div>
        </div>
      </div>
      <style>
        @keyframes pulse-glow {
          0%, 100% {
            opacity: 1;
            filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.6));
          }
          50% {
            opacity: 0.8;
            filter: drop-shadow(0 0 30px rgba(59, 130, 246, 0.9));
          }
        }
        @keyframes pulse-ring {
          0%, 100% {
            transform: scale(1);
            opacity: 0.5;
          }
          50% {
            transform: scale(1.3);
            opacity: 0;
          }
        }
        @keyframes bounce-dot {
          0%, 80%, 100% {
            transform: translateY(0);
          }
          40% {
            transform: translateY(-12px);
          }
        }
      </style>
    </div>

    <!-- SEO Fallback Links for Crawlers -->
    <div style="position: absolute; left: -10000px; top: auto; width: 1px; height: 1px; overflow: hidden;" aria-hidden="true">
        <h2>Important Links</h2>
        <ul>
            <li><a href="https://getjetsuite.com/privacy" title="Privacy Policy">Privacy Policy</a></li>
            <li><a href="https://getjetsuite.com/terms" title="Terms of Service">Terms of Service</a></li>
            <li><a href="https://getjetsuite.com/contact" title="Contact Us">Contact Us</a></li>
            <li><a href="https://getjetsuite.com/faq" title="Frequently Asked Questions">FAQ</a></li>
            <li><a href="https://getjetsuite.com/pricing" title="Pricing">Pricing</a></li>
        </ul>
    </div>

    <script type="module" src="/index.tsx"></script>
    <script src="/register-sw.js"></script>
  </body>
</html>
